# This file is autogenerated, do not edit

.PHONY: all
all: problem2 problem4 problem7 problem8 problem9

.PHONY: problem2
problem2: problem2_data

.PHONY: problem2_data
problem2_data: src/problem2/output/data.dat

src/problem2/output/data.dat: ./src/problem2/output/data.out
	./src/problem2/output/data.out
src/problem2/output/data.out: src/problem2/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp
	@mkdir -p src/problem2/output
	$(CXX) -Wall -Wextra -std=c++17  -o $@ $< -larmadillo


.PHONY: problem4
problem4: problem4_data problem4_plot

.PHONY: problem4_data
problem4_data: src/problem4/output/u.bin

src/problem4/output/u.bin: ./src/problem4/output/data.out
	./src/problem4/output/data.out
src/problem4/output/data.out: src/problem4/data.cpp ../cpp_utils/utils.hpp include/schrodinger_intiializer.hpp
	@mkdir -p src/problem4/output
	$(CXX) -Wall -Wextra -std=c++17  -o $@ $< -larmadillo


.PHONY: problem4_plot
problem4_plot: src/problem4/output/.plot.stamp

src/problem4/output/.plot.stamp: src/problem4/plot.py src/problem4/output/u.bin
	@mkdir -p imgs/problem4
	python3 src/problem4/plot.py
	@touch $@


.PHONY: problem7
problem7: problem7_data problem7_plot

.PHONY: problem7_data
problem7_data: src/problem7/output/wall_us.bin

src/problem7/output/wall_us.bin: ./src/problem7/output/data.out
	./src/problem7/output/data.out
src/problem7/output/data.out: src/problem7/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp include/schrodinger_intiializer.hpp include/schrodinger_solver.hpp
	@mkdir -p src/problem7/output
	$(CXX) -Wall -Wextra -std=c++17 -O3 -o $@ $< -larmadillo


.PHONY: problem7_plot
problem7_plot: src/problem7/output/.plot.stamp

src/problem7/output/.plot.stamp: src/problem7/plot.py src/problem7/output/wall_us.bin
	@mkdir -p imgs/problem7
	python3 src/problem7/plot.py
	@touch $@


.PHONY: problem8
problem8: problem8_data problem8_plot

.PHONY: problem8_data
problem8_data: src/problem8/output/us.bin

src/problem8/output/us.bin: ./src/problem8/output/data.out
	./src/problem8/output/data.out
src/problem8/output/data.out: src/problem8/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp include/schrodinger_intiializer.hpp include/schrodinger_solver.hpp
	@mkdir -p src/problem8/output
	$(CXX) -Wall -Wextra -std=c++17 -O3 -o $@ $< -larmadillo


.PHONY: problem8_plot
problem8_plot: src/problem8/output/.plot.stamp

src/problem8/output/.plot.stamp: src/problem8/plot.py src/problem8/output/us.bin
	@mkdir -p imgs/problem8
	python3 src/problem8/plot.py
	@touch $@


.PHONY: problem9
problem9: problem9_data problem9_plot

.PHONY: problem9_data
problem9_data: src/problem9/output/us.bin

src/problem9/output/us.bin: ./src/problem9/output/data.out
	./src/problem9/output/data.out
src/problem9/output/data.out: src/problem9/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp include/schrodinger_intiializer.hpp include/schrodinger_solver.hpp
	@mkdir -p src/problem9/output
	$(CXX) -Wall -Wextra -std=c++17 -O3 -o $@ $< -larmadillo


.PHONY: problem9_plot
problem9_plot: src/problem9/output/.plot.stamp

src/problem9/output/.plot.stamp: src/problem9/plot.py src/problem9/output/us.bin
	@mkdir -p imgs/problem9
	python3 src/problem9/plot.py
	@touch $@


DIR_NAME ?= ""

.PHONY: init_dir
init_dir:
	@if [ $(DIR_NAME) != "" ]; then\
		echo "Initializing $(DIR_NAME)";\
		mkdir -p imgs/$(DIR_NAME);\
		mkdir -p src/$(DIR_NAME)/output;\
		touch src/$(DIR_NAME)/data.cpp;\
		touch src/$(DIR_NAME)/plot.py;\
	fi

.PHONY: clean_dir
clean_dir:
	@if [ $(DIR_NAME) != "" ]; then\
		echo "Cleaning up $(DIR_NAME)";\
		rm -rf src/$(DIR_NAME)/output;\
		rm -rf imgs/$(DIR_NAME);\
	fi
