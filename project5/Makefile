# This file is autogenerated, do not edit

.PHONY: all
all: crank_nicolson_ititializer_test schrodinger_intiializer_test schrodinger_solver_test double_slit triple_slit

.PHONY: crank_nicolson_ititializer_test
crank_nicolson_ititializer_test: crank_nicolson_ititializer_test_data

.PHONY: crank_nicolson_ititializer_test_data
crank_nicolson_ititializer_test_data: src/crank_nicolson_ititializer_test/output/data.dat

src/crank_nicolson_ititializer_test/output/data.dat: ./src/crank_nicolson_ititializer_test/output/data.out
	./src/crank_nicolson_ititializer_test/output/data.out
src/crank_nicolson_ititializer_test/output/data.out: src/crank_nicolson_ititializer_test/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp
	@mkdir -p src/crank_nicolson_ititializer_test/output
	$(CXX) -Wall -Wextra -std=c++17  -o $@ $< -larmadillo


.PHONY: schrodinger_intiializer_test
schrodinger_intiializer_test: schrodinger_intiializer_test_data schrodinger_intiializer_test_plot

.PHONY: schrodinger_intiializer_test_data
schrodinger_intiializer_test_data: src/schrodinger_intiializer_test/output/u.bin

src/schrodinger_intiializer_test/output/u.bin: ./src/schrodinger_intiializer_test/output/data.out
	./src/schrodinger_intiializer_test/output/data.out
src/schrodinger_intiializer_test/output/data.out: src/schrodinger_intiializer_test/data.cpp ../cpp_utils/utils.hpp include/schrodinger_intiializer.hpp
	@mkdir -p src/schrodinger_intiializer_test/output
	$(CXX) -Wall -Wextra -std=c++17  -o $@ $< -larmadillo


.PHONY: schrodinger_intiializer_test_plot
schrodinger_intiializer_test_plot: src/schrodinger_intiializer_test/output/.plot.stamp

src/schrodinger_intiializer_test/output/.plot.stamp: src/schrodinger_intiializer_test/plot.py src/schrodinger_intiializer_test/output/u.bin
	@mkdir -p imgs/schrodinger_intiializer_test
	python3 src/schrodinger_intiializer_test/plot.py
	@touch $@


.PHONY: schrodinger_solver_test
schrodinger_solver_test: schrodinger_solver_test_data schrodinger_solver_test_plot

.PHONY: schrodinger_solver_test_data
schrodinger_solver_test_data: src/schrodinger_solver_test/output/wall_us.bin

src/schrodinger_solver_test/output/wall_us.bin: ./src/schrodinger_solver_test/output/data.out
	./src/schrodinger_solver_test/output/data.out
src/schrodinger_solver_test/output/data.out: src/schrodinger_solver_test/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp include/schrodinger_intiializer.hpp include/schrodinger_solver.hpp
	@mkdir -p src/schrodinger_solver_test/output
	$(CXX) -Wall -Wextra -std=c++17 -O3 -o $@ $< -larmadillo


.PHONY: schrodinger_solver_test_plot
schrodinger_solver_test_plot: src/schrodinger_solver_test/output/.plot.stamp

src/schrodinger_solver_test/output/.plot.stamp: src/schrodinger_solver_test/plot.py src/schrodinger_solver_test/output/wall_us.bin
	@mkdir -p imgs/schrodinger_solver_test
	python3 src/schrodinger_solver_test/plot.py
	@touch $@


.PHONY: double_slit
double_slit: double_slit_data double_slit_plot

.PHONY: double_slit_data
double_slit_data: src/double_slit/output/us.bin

src/double_slit/output/us.bin: ./src/double_slit/output/data.out
	./src/double_slit/output/data.out
src/double_slit/output/data.out: src/double_slit/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp include/schrodinger_intiializer.hpp include/schrodinger_solver.hpp
	@mkdir -p src/double_slit/output
	$(CXX) -Wall -Wextra -std=c++17 -O3 -o $@ $< -larmadillo


.PHONY: double_slit_plot
double_slit_plot: src/double_slit/output/.plot.stamp

src/double_slit/output/.plot.stamp: src/double_slit/plot.py src/double_slit/output/us.bin
	@mkdir -p imgs/double_slit
	python3 src/double_slit/plot.py
	@touch $@


.PHONY: triple_slit
triple_slit: triple_slit_data triple_slit_plot

.PHONY: triple_slit_data
triple_slit_data: src/triple_slit/output/1slit_us.bin

src/triple_slit/output/1slit_us.bin: ./src/triple_slit/output/data.out
	./src/triple_slit/output/data.out
src/triple_slit/output/data.out: src/triple_slit/data.cpp ../cpp_utils/utils.hpp include/crank_nicolson_ititializer.hpp include/schrodinger_intiializer.hpp include/schrodinger_solver.hpp
	@mkdir -p src/triple_slit/output
	$(CXX) -Wall -Wextra -std=c++17 -O3 -o $@ $< -larmadillo


.PHONY: triple_slit_plot
triple_slit_plot: src/triple_slit/output/.plot.stamp

src/triple_slit/output/.plot.stamp: src/triple_slit/plot.py src/triple_slit/output/1slit_us.bin
	@mkdir -p imgs/triple_slit
	python3 src/triple_slit/plot.py
	@touch $@


DIR_NAME ?= ""

.PHONY: init_dir
init_dir:
	@if [ $(DIR_NAME) != "" ]; then\
		echo "Initializing $(DIR_NAME)";\
		mkdir -p imgs/$(DIR_NAME);\
		mkdir -p src/$(DIR_NAME)/output;\
		touch src/$(DIR_NAME)/data.cpp;\
		touch src/$(DIR_NAME)/plot.py;\
	fi

.PHONY: clean_dir
clean_dir:
	@if [ $(DIR_NAME) != "" ]; then\
		echo "Cleaning up $(DIR_NAME)";\
		rm -rf src/$(DIR_NAME)/output;\
		rm -rf imgs/$(DIR_NAME);\
	fi
