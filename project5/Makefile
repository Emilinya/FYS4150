# This file is autogenerated, do not edit

.PHONY: all
all: test

.PHONY: test
test: test_data test_plot

.PHONY: test_data
test_data: src/test/output/data.dat

src/test/output/data.dat: ./src/test/output/data.out
	./src/test/output/data.out;
src/test/output/data.out: src/test/data.cpp ../cpp_utils/utils.hpp 
	@mkdir -p src/test/output
	g++ -Wall -Wextra -std=c++17  -o $@ $< 


.PHONY: test_plot
test_plot: src/test/output/.plot.stamp

src/test/output/.plot.stamp: src/test/plot.py src/test/output/data.dat
	@mkdir -p imgs/test
	python3 src/test/plot.py
	@touch $@


DIR_NAME ?= "0"

.PHONY: init
init:
	@if [ $(DIR_NAME) != "0" ]; then\
		echo "Initializing directory $(DIR_NAME)";\
		mkdir -p imgs/$(DIR_NAME);\
		mkdir -p src/$(DIR_NAME)/output;\
		touch src/$(DIR_NAME)/data.cpp;\
		touch src/$(DIR_NAME)/plot.py;\
	fi

.PHONY: clean_dir
clean_dir:
	@if [ $(DIR_NAME) != "0" ]; then\
		rm -rf src/$(DIR_NAME)/output;\
		rm -rf imgs/$(DIR_NAME);\
	fi
